{{define "home"}}
<div class="app-shell relative min-h-screen overflow-hidden">
  <div class="pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(56,189,248,0.12),_transparent_60%),radial-gradient(circle_at_bottom,_rgba(14,116,144,0.12),_transparent_65%)]"></div>
  <div class="relative mx-auto flex min-h-screen max-w-6xl gap-10 px-6 py-10">
    <aside class="w-72 shrink-0 space-y-6 rounded-3xl border border-slate-800/70 bg-[#121417]/80 p-5 shadow-[0_30px_90px_-60px_rgba(0,0,0,0.95)] backdrop-blur">
      <form action="/search" method="get">
        <div class="flex items-center gap-2 rounded-full border border-slate-700/70 bg-[#111317] px-3 py-2 text-sm text-slate-300 shadow-[inset_0_0_0_1px_rgba(15,23,42,0.6)]">
          <svg class="h-4 w-4 text-slate-500" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="9" cy="9" r="6"></circle>
            <path d="M14 14l4 4"></path>
          </svg>
          <input class="w-full bg-transparent text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none" type="search" name="q" placeholder="Search memos..." value="{{.SearchQuery}}">
          <svg class="h-4 w-4 text-slate-600" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M6 6h8M8 10h4M9 14h2"></path>
          </svg>
        </div>
      </form>

      <div>
        <div class="flex items-center justify-between text-xs uppercase tracking-[0.3em] text-slate-500">
          <span>{{.CalendarMonth.Label}}</span>
          <span class="flex items-center gap-2 text-slate-600">
            <span class="rounded-full border border-slate-700 px-2 py-0.5">&lt;</span>
            <span class="rounded-full border border-slate-700 px-2 py-0.5">&gt;</span>
          </span>
        </div>
        <div class="mt-3 grid grid-cols-7 gap-1 text-[10px] uppercase tracking-[0.2em] text-slate-600">
          <span class="text-center">Sun</span>
          <span class="text-center">Mon</span>
          <span class="text-center">Tue</span>
          <span class="text-center">Wed</span>
          <span class="text-center">Thu</span>
          <span class="text-center">Fri</span>
          <span class="text-center">Sat</span>
        </div>
        <div class="mt-2 grid grid-cols-7 gap-1 text-xs">
          {{range .CalendarMonth.Weeks}}
            {{range .Days}}
              <div class="flex h-7 w-7 items-center justify-center rounded-md {{if .HasUpdates}}bg-[#2a2f35] text-slate-100{{else if .InMonth}}text-slate-300{{else}}text-slate-600{{end}}">
                {{.Day}}
              </div>
            {{end}}
          {{end}}
        </div>
      </div>

      <div>
        <div class="flex items-center justify-between text-xs uppercase tracking-[0.25em] text-slate-500">
          <span>Tags</span>
          <span class="text-slate-600">.</span>
        </div>
        <div class="mt-3 flex flex-wrap gap-2 text-xs">
          {{range .Tags}}
            <span class="rounded-full border border-slate-700/70 bg-[#15181c] px-2.5 py-1 text-slate-300">#{{.Name}} ({{.Count}})</span>
          {{else}}
            <span class="text-slate-500">No tags yet.</span>
          {{end}}
        </div>
      </div>
    </aside>

    <section class="flex-1 space-y-6">
      <div class="rounded-3xl border border-slate-800/70 bg-[#121417]/80 p-4 shadow-[0_30px_90px_-60px_rgba(0,0,0,0.95)]">
        <div class="text-sm text-slate-500">Any thoughts...</div>
        <div class="mt-4 flex items-center justify-between">
          <a class="rounded-xl border border-slate-700/70 bg-[#171a1f] px-3 py-1.5 text-sm text-slate-200 transition hover:border-slate-500" href="/notes/new">New</a>
          <div class="flex items-center gap-3 text-xs text-slate-500">
            <span class="flex items-center gap-1">
              <svg class="h-4 w-4" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M6 9V7a4 4 0 118 0v2"></path>
                <rect x="4" y="9" width="12" height="8" rx="2"></rect>
              </svg>
              Private
            </span>
            <span class="rounded-xl bg-sky-700 px-4 py-1.5 text-sm text-slate-100">Save</span>
          </div>
        </div>
      </div>

      <div class="rounded-3xl border border-slate-800/70 bg-[#121417]/85 shadow-[0_30px_90px_-60px_rgba(0,0,0,0.95)]">
        <div class="flex items-center justify-between border-b border-slate-800/70 px-6 py-4 text-xs uppercase tracking-[0.25em] text-slate-500">
          <span>Notes</span>
          <a class="text-slate-400 transition hover:text-slate-200" href="/notes/new">New note</a>
        </div>
        <div class="max-h-[calc(100vh-320px)] overflow-y-auto">
          <div id="notes-feed" class="space-y-4 px-6 py-5">
            {{template "home_notes" .}}
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
{{end}}

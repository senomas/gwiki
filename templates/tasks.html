{{define "tasks"}}
<section class="space-y-6">
  <header>
    <h1 class="text-2xl font-semibold text-slate-100">Open tasks</h1>
    <p class="text-sm text-slate-400">Unchecked tasks sorted by due date, then latest updates.</p>
  </header>
  <div class="space-y-3">
    {{if not .OpenTasks}}
      <div class="rounded-lg border border-slate-800 bg-slate-900/60 p-4 text-sm text-slate-400">
        No open tasks.
      </div>
    {{end}}
    {{range .OpenTasks}}
      <div class="rounded-lg border border-slate-800 bg-slate-900/60 p-4">
        <div class="flex flex-wrap items-center gap-2 text-sm text-slate-300">
          {{if .DueDate}}
            <span class="rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200">Due {{.DueDate}}</span>
          {{else}}
            <span class="rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-500">No due date</span>
          {{end}}
          <span class="text-slate-500">Updated {{.UpdatedAt.Format "Jan 2, 2006"}}</span>
        </div>
        <div class="mt-2 text-base text-slate-100">{{.Text}}</div>
        <div class="mt-2 text-sm">
          <a class="text-sky-300 hover:text-sky-200" href="/notes/{{.Path}}">Open note</a>
          <span class="text-slate-500">· line {{.LineNo}}</span>
          <span class="text-slate-500">· {{.Title}}</span>
        </div>
      </div>
    {{end}}
  </div>
</section>
{{end}}
